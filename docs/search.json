[
  {
    "objectID": "analysis_OG.html",
    "href": "analysis_OG.html",
    "title": "Example analysis",
    "section": "",
    "text": "Load libraries\n\n\nhere() starts at /Users/emilynorton/Documents/GradSchool/Year2_Term2/Stat_programming/biostat777-intro-emily-norton\n\n\n── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──\n✔ dplyr     1.1.3     ✔ readr     2.1.4\n✔ forcats   1.0.0     ✔ stringr   1.5.0\n✔ ggplot2   3.4.4     ✔ tibble    3.2.1\n✔ lubridate 1.9.3     ✔ tidyr     1.3.0\n✔ purrr     1.0.2     \n── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──\n✖ dplyr::filter() masks stats::filter()\n✖ dplyr::lag()    masks stats::lag()\nℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors\n\nAttaching package: 'maps'\n\n\nThe following object is masked from 'package:purrr':\n\n    map\n\n\nLoading required package: RColorBrewer\n\n\nQuestion: How are bird visitors changing over time and space? Explored by total number over time (standardized by number of bird feeders/sites) and most common birds changing over time?\nLoad data from TidyTuesday dataset for 30 years of birdwatching:\n\nrds_files &lt;- c(\"feederwatch.RDS\",\"site_data.RDS\")\n\n# Check if any of these files don't exist\nif (any(!file.exists(here(\"data\", rds_files)))) {\n  dir.create(here(\"data\"))\n# if missing, download the data\nfeederwatch &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-10/PFW_2021_public.csv')\nsite_data &lt;- readr::read_csv('https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2023/2023-01-10/PFW_count_site_data_public_2021.csv')\n\n#data_dict &lt;- readr::read_table(\"https://docs.google.com/spreadsheets/d/1kHmx2XhA2MJtEyTNMpwqTQEnoa9M7Il2/edit#gid=2040245914\")  # this doesn't work...but we can save the species_codes dictionary and load them individually\n\n# and save the data objects as RDS files\nsaveRDS(feederwatch, file = here(\"data\",\"feederwatch.RDS\"))\nsaveRDS(site_data, file = here(\"data\",\"site_data.RDS\"))\n}\n\nfeederwatch &lt;- readRDS(here(\"data\",\"feederwatch.RDS\"))\nfeederwatch_og &lt;- feederwatch\nsite_data &lt;- readRDS(here(\"data\",\"site_data.RDS\"))\nsite_data_og &lt;- site_data\nspecies_codes_dd &lt;- read_csv(here(\"data\",\"FeederWatch_Data_Dictionary_Species_Codes.csv\"),skip = 1)\n\nRows: 15966 Columns: 15\n── Column specification ────────────────────────────────────────────────────────\nDelimiter: \",\"\nchr (11): SPECIES_CODE, SCI_NAME, PRIMARY_COM_NAME, PRI_COM_NAME_INDXD, AUTH...\ndbl  (4): AUTHORITY_VER, TAXON_ORDER, EXTINCT, EXTINCT_YEAR\n\nℹ Use `spec()` to retrieve the full column specification for this data.\nℹ Specify the column types or set `show_col_types = FALSE` to quiet this message.\n\n\nNote: Data dictionary available here: https://drive.google.com/file/d/1kHmx2XhA2MJtEyTNMpwqTQEnoa9M7Il2/view\nClean up data:\nPotential issues to address: 1. Convert longitude to oE (if we want to map the sites)\n\n# Check for outliers \nlow_lat &lt;- which(feederwatch$latitude&lt;0)   # length=1; this point appears to be erroneous\nhigh_lat &lt;- which(feederwatch$latitude&gt;50) # these are not erroneous, but want to narrow to US for plotting later on\n\nfeederwatch &lt;- feederwatch[-low_lat,]\nhist(feederwatch$latitude)\n\n\n\nfeederwatch_df &lt;- feederwatch %&gt;%\n  mutate(Date = ymd(paste(Year, Month, Day, sep=\"-\")),\n         lat_band = case_when(\n           latitude &lt; 35 ~ \"low\",\n           latitude &gt;=35 & latitude &lt; 45 ~ \"mid\",\n           latitude &gt;= 45 ~ \"high\"\n         ))\n\n\n# Note: this is over all locations in the dataset, but maybe we want to chunk it by latitude (to catch some of the migrators?)\nbird_count_per_day &lt;- feederwatch_df %&gt;%\n  group_by(Date, lat_band) %&gt;%\n  summarize(total = sum(how_many),\n            count = n(),\n            std_total = total/count)\n\n`summarise()` has grouped output by 'Date'. You can override using the\n`.groups` argument.\n\n# Used to be \"common birds\" - i.e. birds that have high counts in the dataset - i.e. flocking birds\nabundant_birds &lt;- feederwatch_df %&gt;%\n  filter(latitude&lt;50) %&gt;%\n  group_by(species_code) %&gt;%\n  summarize(total = sum(how_many),\n            count = n(),\n            std_total = total/count) %&gt;%\n  arrange(desc(std_total)) %&gt;%\n  head(n=9) %&gt;%\n  left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n  select(species_code, PRIMARY_COM_NAME, SCI_NAME, count)\n\n# Birds that have several records in the dataset\ncommonly_sighted_birds &lt;- feederwatch_df %&gt;%\n  group_by(species_code) %&gt;%\n  summarize(total = sum(how_many),\n            count = n(),\n            std_total = total/count) %&gt;%\n  arrange(desc(count)) %&gt;%\n  head(n=9) %&gt;%\n  left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n  select(species_code, PRIMARY_COM_NAME, SCI_NAME, count)\n\n# # Rare birds - note: this is not comprehensive - lots (!!!) of rare birds!\n# rarely_sighted_birds &lt;- feederwatch_df %&gt;%\n#   group_by(species_code) %&gt;%\n#   summarize(total = sum(how_many),\n#             count = n(),\n#             std_total = total/count) %&gt;%\n#   arrange(count) %&gt;%\n#   head(n=10) %&gt;%\n#   left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n#   select(species_code, PRIMARY_COM_NAME, SCI_NAME, count)\n\n\n\n  \n# # stacked barchart of most common species? - too diverse, can't see any interesting trends - maybe plot avg # of species observed?\n# feederwatch_df %&gt;%\n#   group_by(species_code, Month) %&gt;%    # TODO: I want the total number to be shown (as \"other\") but only the top ~15 labeled\n#   summarize(num_sighted = sum(how_many)) %&gt;%\n#   ungroup() %&gt;%\n#   full_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n#   mutate(PRIMARY_COM_NAME = case_when(\n#     !(species_code %in% common_birds$species_code) ~ \"other\",\n#     TRUE ~ PRIMARY_COM_NAME)) %&gt;%\n#  # filter(species_code %in% common_birds$species_code) %&gt;%\n#   ggplot(aes(x=Month, y = num_sighted, fill=PRIMARY_COM_NAME)) +   # TODO: add year in x-axis\n#   geom_col() +\n#   labs(y = \"Total number of birds sighted\")\n\n# # Check diversity over time -  not interesting\n# num_species_per_day &lt;- feederwatch_df %&gt;%\n#   group_by(Date) %&gt;%\n#   summarize(species_count = length(unique(species_code)),\n#             n_obs = n()) %&gt;%\n#   ungroup() %&gt;%\n#   mutate(Month = month(Date),\n#          dom = day(Date),\n#          std_species_count = species_count/n_obs) %&gt;%\n#   ggplot(aes(x = dom, y = species_count)) +\n#   geom_col() +\n#   facet_wrap(Month~.)\n\n\n# # See where the most common birds were spotted?\nabundant_birds_df &lt;- feederwatch_df %&gt;%\n   filter(species_code %in% abundant_birds$species_code) %&gt;%\n   left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n   mutate(Month=factor(Month, levels=c(\"11\",\"12\",\"1\",\"2\",\"3\",\"4\")))\n\n # TODO: make this! START EHRE!\ncommonly_sighted_birds_df &lt;- feederwatch_df %&gt;%\n   filter(species_code %in% commonly_sighted_birds$species_code) %&gt;%\n   left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n   mutate(Month=factor(Month, levels=c(\"11\",\"12\",\"1\",\"2\",\"3\",\"4\")))\n\n# rarely_sighted_birds_df &lt;- feederwatch_df %&gt;%\n#    filter(species_code %in% rarely_sighted_birds$species_code) %&gt;%\n#    left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE))\n# \n# extinct_birds_inds &lt;- which(species_codes_dd$EXTINCT==1)\n# extinct_birds_dd &lt;- species_codes_dd[extinct_birds_inds,] \n\n# rarely sighted birds are often endangered birds:\n# e.g. bell's vireo - endangered\n# altamira oriole - threatened in Texas (which was where it was observed) ...\n# but in general, a lot of rare birds!\n\n\n# Figure 2 ? \n# understand frequency of different species, i.e., how many rare vs commonly sighted birds are there?\n# Lots of rarely sighted birds!\nfeederwatch_df %&gt;%\n  group_by(species_code) %&gt;%\n  summarize(n_obs = n()) %&gt;%\n  ggplot() +\n  geom_histogram(aes(n_obs), boundary=0, closed=\"left\") +\n  labs(x = \"Number of observations for a given species\", \n       y = \"Frequency\", \n       title = \"Number of sightings per bird species\",\n       subtitle = \"Most bird species are only observed once. \\nA few common species are reported thousands of times.\",\n       caption = \"Data: ProjectFeederwatch\") +\n  theme_minimal()\n\n`stat_bin()` using `bins = 30`. Pick better value with `binwidth`.\n\n\n\n\n# Fig 3 : Table of common birds?\n# tb &lt;- table(commonly_sighted_birds$PRIMARY_COM_NAME)\n# wordcloud(names(tb))\n# wordcloud(words = commonly_sighted_birds$PRIMARY_COM_NAME[1:8], colors = brewer.pal(8, \"Greens\"), freq=commonly_sighted_birds$count[1:8])\n\n# TODO: Make table of common birds ()\ncommonly_sighted_birds_table &lt;- commonly_sighted_birds %&gt;%\n  select('Common name' = PRIMARY_COM_NAME,\n         'Scientific name' = SCI_NAME,\n         'Number of observations' = count)\n\n\n\n# Make faceted plot of where most common birds are spotted in US/Canada:\namerica_map &lt;- map_data(\"world\", region='USA')\nUSA_map &lt;-\n  ggplot(america_map, aes(x=long, y=lat, group=group)) +\n  geom_polygon(fill=\"white\",color=\"black\") + \n  scale_x_continuous(limits = c(-125,-65)) +\n  scale_y_continuous(limits = c(25, 50)) + \n  coord_map() +\n  theme_minimal()\n\n# Plot all sighting locations?\nunique_sighting_locations &lt;- feederwatch %&gt;%\n  group_by(loc_id) %&gt;%\n  summarize(latitude=mean(latitude),\n            longitude=mean(longitude))\nUSA_map +\n  geom_point(data=unique_sighting_locations, aes(x = longitude, y = latitude, group=NULL))\n\nWarning: Removed 529 rows containing missing values (`geom_point()`).\n\n\n\n\n# Most abundant birds (i.e. probably largest flocks)\n# TODO: want to color by month of sighting?\n# Fig 2/3??\n# focus on birds in US (or below 50oN):\n\nmonth_colors = c(\"sandybrown\",\"indianred\",\"slateblue3\",\"royalblue\",\"palegreen3\")\n\n  USA_map +\n  geom_point(data = abundant_birds_df, aes(x = longitude, y = latitude, group=NULL, size=how_many, color=Month), alpha=0.5) +\n  #scale_fill_continuous(low=\"lightblue\", high=\"indianred4\", name=\"Count\") +\n    scale_color_manual(values=month_colors) +   # TODO: Fix this - color isn't using my color palette\n  theme_minimal() + \n  labs(x=\"Longitude (E)\", \n       y=\"Latitude (N)\", \n       title=\"Sighting locations for abundant birds in US and Canada\", \n       subtitle=\"Birds with the highest average abundance per sighting \\ntend to have limited distributions\", \n       size=\"Count per sighting\") +\n  facet_wrap(vars(PRIMARY_COM_NAME), labeller = labeller(PRIMARY_COM_NAME = label_wrap_gen(width = 10)))\n\n\n\n# Commonly sighted birds: TODO: 10 re-order factor, 2) change to intuitive color scheme, # THIS TAKES FOREVER TO DRAW...but it's neat! - Fig 3?? Just do it for the top 4 or so??? - TODO: Change color scheme - AND save image to load later! - reverse colorbar so that white = lower sightings and darker/richer color = more sightings?\n  \ncommon_birds_plot &lt;- USA_map +\n#  ggplot(data = commonly_sighted_birds_df, aes(x = longitude, y = latitude, group=NULL, color=Month)) +\n  geom_bin_2d(data = commonly_sighted_birds_df, aes(x = longitude, y = latitude, group=NULL)) +\n  scale_fill_continuous(low=\"lightskyblue1\", high=\"indianred4\", name=\"Number of \\nsightings\") +\n  theme_minimal() + \n  labs(x=\"Longitude (E)\", \n       y=\"Latitude (N)\", \n       title=\"Sightings of common birds in the US and southern Canada\", \n       subtitle=\"Common bird species are most frequently observed in the Mid-Atlantic and \\nNortheast regions, likely due (in part) to a sampling bias and easy bird identification\",  # may not want to add all of this here??\n       color=\"Month\") +   # TODO: change legend title?? how? it's currently \"count\" - should be \"Number of sightings\"\n  facet_wrap(vars(PRIMARY_COM_NAME), labeller = labeller(PRIMARY_COM_NAME = label_wrap_gen(width = 10)))\n#ggsave(here(\"figs\",\"Commonly_sighted_birds.png\"), plot=common_birds_plot, width=7, height=7, units=\"in\")\n\n# \n# # Rare birds\n# USA_map +\n#   geom_point(data = rarely_sighted_birds_df, aes(x = longitude, y = latitude, group=NULL, color=as.factor(Month))) +\n#   #scale_fill_continuous(low=\"lightblue\", high=\"indianred4\", name=\"Count\") +\n#   theme_minimal() + \n#   labs(x=\"Longitude (E)\", \n#        y=\"Latitude (N)\", \n#        title=\"Sighting locations for abundant birds in US and Canada\", \n#        subtitle=\"Commonly observed birds\") +\n#   facet_wrap(vars(PRIMARY_COM_NAME), labeller = labeller(PRIMARY_COM_NAME = label_wrap_gen(width = 10)))\n# \n# amer_black_duck_df &lt;- feederwatch_df %&gt;%\n#   filter(species_code==\"ambduc\")\n\n\n\n# # Where does crime usually take place - set this as our average\n# plot_totalcrime_map &lt;- data %&gt;%\n#   ggplot(aes(x=Longitude, y = Latitude)) +\n#   geom_bin_2d(bins=100) +\n#   scale_fill_continuous(low=\"lightblue\", high=\"indianred4\", name=\"Count\") +\n#   theme_minimal() + \n#   labs(x=\"Longitude (E)\", y=\"Latitude (N)\", title=\"Number of reported crimes in Baltimore by location\")\n# ggsave(filename = \"plot_totalcrime_map_blue_red_100bins.png\", plot=plot_totalcrime_map, path=\"./Figs/Maps/\", width = 5, height = 4, units = \"in\") \n\n\n\n\n\n\n# test &lt;- feederwatch_df %&gt;%\n#   filter(Date==\"2020-11-14\")\n# \n# \n# %&gt;%\n#   group_by(Date) %&gt;%\n#   summarize(obs_count = n()) %&gt;%\n#   ungroup() %&gt;%\n#   mutate(std_species_count = species_count/obs_count) %&gt;%\n#   arrange(desc(std_total)) %&gt;%\n#   head(n=10) %&gt;%\n#   left_join(species_codes, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n#   select(species_code, PRIMARY_COM_NAME)\n\n\n\n# Figure 1\nbird_count_per_day %&gt;%\n  ggplot(aes(x=Date, y = std_total, color = lat_band)) +   # TODO: add year in x-axis\n  geom_smooth() +   # loess-smoother is default\n  theme_minimal() +   \n  labs(y = \"Number of birds / sighting\", \n       title = \"Bird sightings per latitude band over time\", \n       color = \"Latitude band\", \n       subtitle = \"Birds are most commonly sighted at high latitudes, \\nbut become more frequent in low latitudes in the winter\", \n       caption = \"Data: Project FeederWatch\")\n\n`geom_smooth()` using method = 'loess' and formula = 'y ~ x'\n\n\n\n\n# # Figure 2 - # most common birds plotted by month...don't like this one either\n# feederwatch_df %&gt;%\n#   filter(species_code %in% common_birds$species_code) %&gt;%\n#   group_by(species_code, Month) %&gt;%\n#   summarize(num_per_sighting = sum(how_many)/n()) %&gt;%\n#   ungroup() %&gt;%\n#   left_join(species_codes_dd, by=join_by(species_code==SPECIES_CODE)) %&gt;%\n#   ggplot(aes(x=Month, y = num_per_sighting)) +   # TODO: add year in x-axis\n#   geom_col() +\n#   facet_wrap(vars(PRIMARY_COM_NAME), nrow=5, ncol=5) \n  \n\n\n\n\n\n# Result: seeing more birds in the winter at all latitudes (perhaps because they are coming to the feeders more),\n# but this is especially true for low latitudes - perhaps this is observed because of migration patterns\n\n\n# Explore information for most abundant birds\n\nExplore trends in total number of birds and number of feeders/reports over time?\n\nglimpse(feederwatch)\n\nRows: 99,999\nColumns: 22\n$ loc_id             &lt;chr&gt; \"L981010\", \"L3161698\", \"L13210778\", \"L13258348\", \"L…\n$ latitude           &lt;dbl&gt; 52.12976, 43.83221, 39.72147, 42.21787, 32.74992, 4…\n$ longitude          &lt;dbl&gt; -122.13547, -123.09240, -75.93366, -83.67230, -79.9…\n$ subnational1_code  &lt;chr&gt; \"CA-BC\", \"US-OR\", \"US-MD\", \"US-MI\", \"US-SC\", \"CA-QC…\n$ entry_technique    &lt;chr&gt; \"POSTCODE LAT/LONG LOOKUP\", \"/GOOGLE_MAP/ZOOM:18\", …\n$ sub_id             &lt;chr&gt; \"S83206450\", \"S78031190\", \"S81318993\", \"S79251313\",…\n$ obs_id             &lt;chr&gt; \"OBS1092604618\", \"OBS1036509564\", \"OBS1073386105\", …\n$ Month              &lt;dbl&gt; 3, 12, 2, 1, 1, 3, 1, 4, 11, 1, 1, 4, 3, 11, 1, 2, …\n$ Day                &lt;dbl&gt; 4, 19, 13, 13, 11, 13, 23, 23, 28, 2, 30, 22, 25, 1…\n$ Year               &lt;dbl&gt; 2021, 2020, 2021, 2021, 2021, 2021, 2021, 2021, 202…\n$ PROJ_PERIOD_ID     &lt;chr&gt; \"PFW_2021\", \"PFW_2021\", \"PFW_2021\", \"PFW_2021\", \"PF…\n$ species_code       &lt;chr&gt; \"amegfi\", \"moudov\", \"tuftit\", \"houspa\", \"balori\", \"…\n$ how_many           &lt;dbl&gt; 20, 11, 2, 2, 10, 2, 5, 2, 6, 9, 2, 1, 2, 1, 10, 1,…\n$ valid              &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 0, 1, 1, 1, 0, 1, 1, 1, 1, 1, …\n$ reviewed           &lt;dbl&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …\n$ day1_am            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ day1_pm            &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, …\n$ day2_am            &lt;dbl&gt; 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, …\n$ day2_pm            &lt;dbl&gt; 0, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 0, 1, …\n$ effort_hrs_atleast &lt;dbl&gt; 1.001, 1.001, 8.001, 4.001, 1.001, 1.001, 0.001, 4.…\n$ snow_dep_atleast   &lt;dbl&gt; 5.000, 0.000, 5.000, 0.000, 0.000, 15.001, 0.000, 0…\n$ Data_Entry_Method  &lt;chr&gt; \"PFW Web 4.1.4\", \"PFW Web 4.1.4\", \"PFW Web 4.1.4\", …\n\nsummary(feederwatch)\n\n    loc_id             latitude       longitude       subnational1_code \n Length:99999       Min.   :21.42   Min.   :-157.95   Length:99999      \n Class :character   1st Qu.:38.36   1st Qu.: -93.34   Class :character  \n Mode  :character   Median :41.14   Median : -80.63   Mode  :character  \n                    Mean   :40.71   Mean   : -87.06                     \n                    3rd Qu.:43.33   3rd Qu.: -76.09                     \n                    Max.   :65.52   Max.   : -52.73                     \n                                                                        \n entry_technique       sub_id             obs_id              Month       \n Length:99999       Length:99999       Length:99999       Min.   : 1.000  \n Class :character   Class :character   Class :character   1st Qu.: 2.000  \n Mode  :character   Mode  :character   Mode  :character   Median : 3.000  \n                                                          Mean   : 5.144  \n                                                          3rd Qu.:11.000  \n                                                          Max.   :12.000  \n                                                                          \n      Day             Year      PROJ_PERIOD_ID     species_code      \n Min.   : 1.00   Min.   :2020   Length:99999       Length:99999      \n 1st Qu.: 9.00   1st Qu.:2020   Class :character   Class :character  \n Median :16.00   Median :2021   Mode  :character   Mode  :character  \n Mean   :16.16   Mean   :2021                                        \n 3rd Qu.:23.00   3rd Qu.:2021                                        \n Max.   :31.00   Max.   :2021                                        \n                                                                     \n    how_many           valid           reviewed          day1_am      \n Min.   :  1.000   Min.   :0.0000   Min.   :0.00000   Min.   :0.0000  \n 1st Qu.:  1.000   1st Qu.:1.0000   1st Qu.:0.00000   1st Qu.:1.0000  \n Median :  2.000   Median :1.0000   Median :0.00000   Median :1.0000  \n Mean   :  3.707   Mean   :0.9934   Mean   :0.00333   Mean   :0.9117  \n 3rd Qu.:  4.000   3rd Qu.:1.0000   3rd Qu.:0.00000   3rd Qu.:1.0000  \n Max.   :500.000   Max.   :1.0000   Max.   :1.00000   Max.   :1.0000  \n                                                                      \n    day1_pm          day2_am          day2_pm       effort_hrs_atleast\n Min.   :0.0000   Min.   :0.0000   Min.   :0.0000   Min.   :0.001     \n 1st Qu.:1.0000   1st Qu.:1.0000   1st Qu.:1.0000   1st Qu.:1.001     \n Median :1.0000   Median :1.0000   Median :1.0000   Median :1.001     \n Mean   :0.7867   Mean   :0.8916   Mean   :0.7749   Mean   :1.778     \n 3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.0000   3rd Qu.:1.001     \n Max.   :1.0000   Max.   :1.0000   Max.   :1.0000   Max.   :8.001     \n                                                    NA's   :161       \n snow_dep_atleast Data_Entry_Method \n Min.   : 0.000   Length:99999      \n 1st Qu.: 0.000   Class :character  \n Median : 0.000   Mode  :character  \n Mean   : 2.098                     \n 3rd Qu.: 0.001                     \n Max.   :15.001                     \n NA's   :8876                       \n\nlength(unique(feederwatch$species_code))\n\n[1] 361\n\n# potential issues\n\nAdd my example analysis here that meets the following requirements:\nA data analysis page called ‘Example analysis’. You can pick any dataset you wish you analyze. In this webpage, you will analyze a dataset and summarize the results. The requirements for this webpage are the following: You must describe what is the question you aim to answer with the data and data analysis. You must describe who is the intended audience for the data analysis. You must describe and link to where the original data come from that you chose. You must include a link to a data dictionary for the data or create one inside the webpage. Your analysis must include some minimal form of data wrangling with you using at least five different functions from dplyr or tidyr. Your analysis should include at least three plots with you using at least three different geom_() functions from ggplot2 (or another package with geom_() functions). Plots should have titles, subtitles, captions, and human-understandable axis labels. At least one plot should using a type of faceting (facet_grid() or facet_wrap()). Your analysis must include one image or table (not one you created yourself, but one you have saved locally or one from the web). Your analysis must include at least two different callout blocks. Your analysis must include a .bib file, which you use to reference at least three unique citations. For example, it could be to a website or paper from where the original data came from or it could be to a paper describing a method you are using to analyze the data. Your analysis must include the use of at least 1 margin content. You must summarize your analysis and/or results with a paragraph (4-6 sentences). At the end of the data analysis, list out each of the functions you used from each of the packages (dplyr, tidyr, and ggplot2) to help the TA with respect to making sure you met all the requirements described above."
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Emily Norton",
    "section": "",
    "text": "I am a 2nd year PhD candidate in the Department of Biostatistics in the Bloomberg School of Public Health at Johns Hopkins University. My research focuses on understanding how genetics and environmental factors influence disease risk, and how this risk differs across populations."
  },
  {
    "objectID": "about.html",
    "href": "about.html",
    "title": "About",
    "section": "",
    "text": "Education and training\nI am a 2nd year PhD candidate in the Department of Biostatistics in the Bloomberg School of Public Health at Johns Hopkins University. I earned a B.A. from Bowdoin College, where I majored in biology and minored in math. I also have a M.S. in oceanography from the University of Hawaii.\n\n\nProfessional Interests\nPrior to returning for my PhD, I worked for several years doing oceanographic research. The more I learned about climate change, the more concerned I got. But many of my friends and family members were unphased. Somewhere along the line I realized that people have so many interests competing for their time; climate change is often at the bottom of the list, and one of the factors at the top is often their own health. ## TODO: clean up !\nAs researchers in the field of public health, we have a lot of data available to us, and more is being collected everyday. However, these data don’t equally represent all communities. I’m interested in how we can make sense of big data, and ways we can fill in missing data, to improve people’s quality of life in an equitable way. More specifically, my research focuses on understanding how genetics and environmental factors influence disease risk, and how this risk changes across different populations. I hope my research will help inform patients and doctors about ways to tailor preventive screenings to individuals who need it most, in order to prevent cancer and efficiently use limited resources.\n\n\nPersonal Interests\nIn my free time, I enjoy hiking, foraging, crafting, and baking.\n\n\n\nForaging in the Cascade Mountains in Washington."
  },
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Example analysis",
    "section": "",
    "text": "The dark-eyed junco was the most commonly observed species in Project FeederWatch in winter 2020-21.  Photo credit: Bob Vuxinic, submitted to Project FeederWatch\n\n\n\nProject aims\nIn this example analysis, I investigate patterns in abundance and distribution of birds in the 2020-21 winter in the United States and southern Canada. Specifically, I aim to answer the following questions:\n\nwhen and where are birds observed\nwhich species are most common, and where are they found\nwhich species tend to occur in large flocks, and where are they found\n\nThis analysis is intended for the general public, as well as the citizen scientists (and the graders for Biostat 777).\n\n\nData from Project FeederWatch\nThese data were discovered via TidyTuesday for January 1, 2023, but originally come from Project FeederWatch. Project FeederWatch is a citizen science project that aims to engage individuals in North America to count birds (for as long or as little as they like) to track winter trends in bird distribution and abundance. This project has been running for more than 30 years at this point!1 The data dictionary is available here.\n\n\nWhere are birds observed?\nIn order to understand trends in bird distribution and abundance, we first need to know where our observations are coming from. Here is a figure showing the locations of observations. The points are transparent, so denser bird-watching areas are shaded darker green.\n\n\n\n\n\nFigure 1: Observing locations for Project FeederWatch 2020-21 winter.\n\n\n\n\n\n\n\n\n\n\nBirdwatching locations\n\n\n\nParticipants can birdwatch anywhere – it doesn’t have to be at their backyard feeder! But remember the distribution of observing locations in this figure since it will be relevant for understanding the distribution of common and flocking birds examined below.\n\n\nSince most bird-watching happens in the mid-latitudes (defined here as 35-45ºN), we must standardize the number of birds by the number of observations. The following figure indicates that birds are more abundant at higher latitudes even though there are fewer total observations. However, birds become more common at lower latitudes (&lt;35ºN) from January to March. This may be explained by migration to southern regions during the coldest months of the year. The fact that more birds are reported within every latitudinal band during the coldest months may indicate that more birds visit feeders to obtain food during the harshest conditions of the year.\n\n\n\n\n\n\n\n\nFigure 2: Total number of birds observed within each latitudinal band (high: &gt;=45ºN, mid: 35-45ºN, low: &lt;35ºN).\n\n\n\n\n\n\nLOESS (locally weighted running line smoother) was used on these curves. This is the default option for geom_smooth.\n\n\n\nLet’s now explore how often different species are observed. A total of 361 unique species were reported, but most of these species were only observed once! However, the most common species were observed thousands of times! This is probably explained in part because birds are incredibly diverse,2 so some of these species may actually be rare, while others have may have limited distributions or be harder to identify.\n\n\n\n\n\nFigure 3: Histogram of the number of observations per species.\n\n\n\n\n\n\n\n\n\n\nRare birds are becoming rarer\n\n\n\nIn 2019, the National Audubon Society estimated that two-thirds of North American birds were at risk of extinction due to climate change.3\n\n\n\n\nWhich birds are most common?\nYou’ll probably recognize the names of some of the most common birds! These birds were identified as “common” in the data set because they had the most observations (though not necessarily the highest total count of individuals).\n\n\n\nMost commonly observed birds in the 2020-21 winter in Project FeederWatch.\n\n\n\n\n\n\n\nCommon name\nScientific name\nNumber of observations\n\n\n\n\nDark-Eyed Junco\nJunco hyemalis\n5465\n\n\nDowny Woodpecker\nPicoides pubescens\n5449\n\n\nNorthern Cardinal\nCardinalis cardinalis\n5438\n\n\nHouse Finch\nHaemorhous mexicanus\n4955\n\n\nMourning Dove\nZenaida macroura\n4938\n\n\nBlack-Capped Chickadee\nPoecile atricapillus\n4696\n\n\nBlue Jay\nCyanocitta cristata\n4578\n\n\nAmerican Goldfinch\nSpinus tristis\n4446\n\n\nWhite-Breasted Nuthatch\nSitta carolinensis\n4393\n\n\n\n\n\nMost of the common birds were observed throughout the U.S. (or at least where people were reportedly birdwatching, see Figure 1). However, some birds had more limited distributions. For example, the blue jay and the northern cardinal were found predominantly in the eastern half of the U.S., and the black-capped chickadee was only observed in the more northern latitudes.\n\n\n\nFigure 4: Heatmap of observations for the most common birds.\n\n\n\n\nWhich birds are usually found in a flock?\nHave you heard the saying that “birds of a feather flock together”? The birds in the figure below had the highest average abundance per observation. This indicates to me that these birds tend to appear most often in large flocks.\n\n\n\n\n\nFigure 5: Month and location for bird species with the largest average count per observation. The size of the circle is relative to the flock size, and the color indicates the month when the observation was made.\n\n\n\n\n\n\nSummary\nIn this example analysis, we explored patterns in the distribution and abundance of birds observed through the citizen science initiative Project FeederWatch conducted in winter 2020-21. We found that most of the observations for this program were made in the mid-Atlantic and northeast regions of the U.S. This pattern of observation corresponded strongly with the distribution of several of the most common birds, including the American goldfinch, dark-eyed junco, downy woodpecker, and house finch. However, flocking birds tended to have smaller ranges but a larger number of birds reported per observation. In general, birds were most abundant in the coldest months (January-March) and at the highest latitudes (&gt;45N).\n\n\nFunctions used\ndplyr: mutate, group_by, summarize, arrange, filter\nggplot2: geom_smooth, geom_histogram, geom_polygon, geom_bin_2d, geom_point, facet_wrap\n\n\n\n\n\nReferences\n\n1. Bonter, D. N. & Grieg, E. I. Over 30 years of standardized bird counts at supplementary feeding stations in north america: A citizen science data report for project FeederWatch. Frontiers in Ecology and Evolution 31, (2021).\n\n\n2. Wong, K. How birds evolved their incredible diversity. Scientific American (2020).\n\n\n3. Wilsey, C. et al. Survival by degrees: 389 bird species on the brink. (2019)."
  }
]